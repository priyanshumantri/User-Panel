<% if(pageName === "drivers") {%> 
    <script src="../../../assets/js/custom/apps/user-management/permissions/oldList.js"></script>
    <script src="../../../assets/js/custom/masters/vehicles/drivers/drivers.js"></script>
    <script src="../../../assets/js/custom/masters/vehicles/drivers/edit-drivers.js"></script>
    <script>
        $("#kt_datepicker_2").flatpickr({
            dateFormat : "d-m-Y",
            minDate : "today"
        });
    </script>

<script>
    $("#kt_datepicker_3").flatpickr({
        dateFormat : "d-m-Y",
        minDate : "today"
    });
</script>


<script>
    function editVehicleOwner(name, mobile, address, PAN, id) {
        const editModal = document.getElementById('kt_modal_update_permission');


        const nameInput = document.querySelector('#kt_modal_update_permission input[name="name"]');
        const addressInput = document.querySelector('#kt_modal_update_permission input[name="address"]');
        const mobileInput = document.querySelector('#kt_modal_update_permission input[name="mobile"]');
        const PANInput = document.querySelector('#kt_modal_update_permission input[name="PAN"]');
        const idInput = document.querySelector('#kt_modal_update_permission input[name="id"]');
        nameInput.value = name
        addressInput.value = address
        mobileInput.value = mobile
        PANInput.value = PAN
        idInput.value = id

        $(editModal).modal('show');
    }

    function deleteDriver(name, id) {
        Swal.fire({
            text: "Are You Sure You Want To Delete Driver: " + name ,
            icon: "warning",
            showCancelButton: true,
            buttonsStyling: false,
            confirmButtonText: "Yes, delete it!",
            cancelButtonText: "No, return",
            customClass: {
                confirmButton: "btn btn-danger",
                cancelButton: "btn btn-active-light"
            }
        }).then((result) => {
            if (result.isConfirmed) {
                const data = new URLSearchParams()
                data.append("id", id) // Define the data to send in the request body

                fetchPostRequest("/masters/vehicles/drivers/delete", data, "Driver deleted Successfully")
            } else {
                // Handle the cancel action here
            }
        });
    }

    function editDriver(name, mobile, address, licenseNumber, licenseValidity, id) {
            const editModal = document.getElementById('kt_modal_update_permission');


            const nameInput = document.querySelector('#kt_modal_update_permission input[name="name"]');
            const addressInput = document.querySelector('#kt_modal_update_permission input[name="address"]');
            const mobileInput = document.querySelector('#kt_modal_update_permission input[name="mobile"]');
            const licenseNumberInput = document.querySelector('#kt_modal_update_permission input[name="licenseNumber"]');
            const licenseNumberValidityInput = document.querySelector('#kt_modal_update_permission input[name="licenseValidity"]');
            const idInput = document.querySelector('#kt_modal_update_permission input[name="id"]');

            nameInput.value = name
            addressInput.value = address
            mobileInput.value = mobile
            licenseNumberInput.value = licenseNumber
            licenseNumberValidityInput.value = licenseValidity
            idInput.value = id

            $(editModal).modal('show');
        }


</script>
    <%} %>